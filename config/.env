# =============================================================================
# .env - PulseOne 메인 설정 (수정 버전)
# =============================================================================

# 환경 설정
NODE_ENV=development
ENV_STAGE=dev
LOG_LEVEL=info
BACKEND_PORT=3000

# 데이터베이스 자동 초기화
AUTO_INITIALIZE_ON_START=true
SKIP_IF_INITIALIZED=true
FAIL_ON_INIT_ERROR=false

# 기본 디렉토리 (플랫폼 자동 감지)
DATA_DIR=./data
LOGS_DIR=./logs
CONFIG_DIR=./config

# 🔥 모듈별 설정 파일 (csp.env 추가)
CONFIG_FILES=database.env,redis.env,timeseries.env,messaging.env,collector.env,csp.env

# 로그 설정
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/
LOG_MAX_SIZE_MB=100
LOG_MAX_FILES=30
LOG_USE_DATE_FOLDERS=true
LOG_USE_HOURLY_FILES=false
LOG_RETENTION_DAYS=30

# 시스템 설정
MAX_WORKER_THREADS=4
DEFAULT_TIMEOUT_MS=5000
MAINTENANCE_MODE=false

# 🔥 CSP Gateway 활성화 설정 (새로 추가)
CSP_GATEWAY_ENABLED=true
EXPORT_GATEWAY_ENABLED=true

# 🔥 보안 설정 (새로 추가)
SECRETS_DIR=${CONFIG_DIR}/secrets
ENCRYPTION_ENABLED=true

# 🔥 서비스 포트 설정 (새로 추가)
EXPORT_GATEWAY_PORT=8080
CSP_GATEWAY_HEALTH_CHECK_PORT=8081
CSP_USE_DYNAMIC_TARGETS=true
CSP_DYNAMIC_TARGETS_CONFIG=/app/config/csp-targets.json
