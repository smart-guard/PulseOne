Running main() from ./googletest/src/gtest_main.cc
[==========] Running 3 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 3 tests from EnhancedPipelineTest
[ RUN      ] EnhancedPipelineTest.Alarm_Triggering_Simulation

ğŸš€ === ì•ŒëŒ + ê°€ìƒí¬ì¸íŠ¸ + Redis í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì‘ ===
ğŸ”§ LogManager ìë™ ì´ˆê¸°í™” ì‹œì‘...
âœ… LogManager ìë™ ì´ˆê¸°í™” ì™„ë£Œ
[2025-08-12T13:12:56.165Z][INFO][config] ğŸ”§ ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:12:56.166Z][INFO][config] ğŸ“ ì„¤ì • ë””ë ‰í† ë¦¬: /app/collector/tests/config
[2025-08-12T13:12:56.166Z][INFO][config] ğŸ“„ .env - 30/53 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.166Z][INFO][config] âœ… ë©”ì¸ ì„¤ì • ë¡œë“œ: .env
[2025-08-12T13:12:56.166Z][INFO][config] ğŸ” ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì‹œì‘
[2025-08-12T13:12:56.167Z][INFO][config] ğŸ“„ database.env - 38/60 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.167Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: database.env
[2025-08-12T13:12:56.167Z][INFO][config] ğŸ“„ redis.env - 18/29 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.167Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: redis.env
[2025-08-12T13:12:56.168Z][INFO][config] ğŸ“„ timeseries.env - 29/48 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.168Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: timeseries.env
[2025-08-12T13:12:56.168Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì™„ë£Œ
[2025-08-12T13:12:56.168Z][INFO][config] âœ… ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì™„ë£Œ (115ê°œ ì„¤ì •, 4ê°œ íŒŒì¼)
[2025-08-12T13:12:56.168Z][INFO][config] ğŸ”§ ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:12:56.168Z][INFO][config] ğŸ“ ì„¤ì • ë””ë ‰í† ë¦¬: /app/collector/tests/config
[2025-08-12T13:12:56.169Z][INFO][config] ğŸ“„ .env - 0/53 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.169Z][INFO][config] âœ… ë©”ì¸ ì„¤ì • ë¡œë“œ: .env
[2025-08-12T13:12:56.169Z][INFO][config] ğŸ” ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì‹œì‘
[2025-08-12T13:12:56.169Z][INFO][config] ğŸ“„ database.env - 0/60 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.169Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: database.env
[2025-08-12T13:12:56.169Z][INFO][config] ğŸ“„ redis.env - 0/29 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.169Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: redis.env
[2025-08-12T13:12:56.170Z][INFO][config] ğŸ“„ timeseries.env - 0/48 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:12:56.170Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: timeseries.env
[2025-08-12T13:12:56.170Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì™„ë£Œ
[2025-08-12T13:12:56.170Z][INFO][config] âœ… ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì™„ë£Œ (115ê°œ ì„¤ì •, 8ê°œ íŒŒì¼)
[2025-08-12T13:12:56.170Z][INFO][database] ğŸ”§ DatabaseManager ìë™ ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:12:56.170Z][INFO][database] ğŸ”§ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë¡œë“œ ì¤‘...
[2025-08-12T13:12:56.170Z][INFO][database] ğŸ“‹ ì„¤ì •ëœ DATABASE_TYPE: SQLITE
[2025-08-12T13:12:56.171Z][INFO][database] âœ… SQLite ëª¨ë“œ ì„ íƒë¨
[2025-08-12T13:12:56.171Z][INFO][database] ğŸ”§ ìµœì¢… ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •:
[2025-08-12T13:12:56.171Z][INFO][database]    ğŸ“Š ë©”ì¸ RDB: SQLite
[2025-08-12T13:12:56.171Z][INFO][database]    ğŸ”„ Redis: í™œì„±í™”
[2025-08-12T13:12:56.171Z][INFO][database]    ğŸ“ˆ InfluxDB: í™œì„±í™”
[2025-08-12T13:12:56.171Z][INFO][database] ğŸ”§ SQLite ì—°ê²° ì‹œë„...
[2025-08-12T13:12:56.171Z][INFO][database] ğŸ”§ SQLite ì—°ê²° ì‹œë„: db/pulseone_test.db
[2025-08-12T13:12:56.175Z][INFO][database] âœ… SQLite ì—°ê²° ì„±ê³µ: db/pulseone_test.db
[2025-08-12T13:12:56.175Z][INFO][database] âœ… ë©”ì¸ RDB (SQLite) ì—°ê²° ì„±ê³µ
[2025-08-12T13:12:56.175Z][INFO][database] ğŸ”§ Redis ì—°ê²° ì‹œë„...
[2025-08-12T13:12:56.175Z][INFO][database] ğŸ”„ Redis ì—°ê²° ì‹œì‘...
[2025-08-12T13:12:56.175Z][INFO][database] Redis ì—°ê²° ì‹œë„: localhost:6379
[2025-08-12T13:12:56.176Z][ERROR][redis] Redis connect ì—ëŸ¬: ì—°ê²° ì‹¤íŒ¨: Connection refused
[2025-08-12T13:12:56.176Z][ERROR][database] âŒ Redis ì—°ê²° ì‹¤íŒ¨: localhost:6379
[2025-08-12T13:12:56.176Z][WARN][database] âš ï¸ Redis ì—°ê²° ì‹¤íŒ¨ - ê³„ì† ì§„í–‰
[2025-08-12T13:12:56.176Z][INFO][database] ğŸ”§ InfluxDB ì—°ê²° ì‹œë„...
[2025-08-12T13:12:56.177Z][WARN][database] âš ï¸ InfluxClientImpl ë¯¸êµ¬í˜„ - ì„ì‹œë¡œ ë¹„í™œì„±í™”
[2025-08-12T13:12:56.177Z][WARN][database] âš ï¸ InfluxDB ì—°ê²° ì‹¤íŒ¨ - ê³„ì† ì§„í–‰
[2025-08-12T13:12:56.177Z][INFO][database] âŒ InfluxDB: ì—°ê²° ì•ˆë¨
[2025-08-12T13:12:56.177Z][INFO][database] âŒ MSSQL: ì—°ê²° ì•ˆë¨
[2025-08-12T13:12:56.177Z][INFO][database] âŒ MySQL/MariaDB: ì—°ê²° ì•ˆë¨
[2025-08-12T13:12:56.177Z][INFO][database] âŒ PostgreSQL: ì—°ê²° ì•ˆë¨
[2025-08-12T13:12:56.177Z][INFO][database] âŒ Redis: ì—°ê²° ì•ˆë¨
[2025-08-12T13:12:56.177Z][INFO][database] âœ… SQLite: ì—°ê²°ë¨
[2025-08-12T13:12:56.177Z][INFO][database] âœ… DatabaseManager ìë™ ì´ˆê¸°í™” ì™„ë£Œ (ë©”ì¸ RDB ì—°ê²° ì„±ê³µ)
[2025-08-12T13:12:56.177Z][INFO][database] ğŸš€ DatabaseManager ìë™ ì´ˆê¸°í™” ì„±ê³µ!
[2025-08-12T13:12:56.177Z][INFO][database] âš¡ DatabaseManager ì´ë¯¸ ìë™ ì´ˆê¸°í™”ë¨ - ìˆ˜ë™ ì´ˆê¸°í™” ê±´ë„ˆëœ€
[2025-08-12T13:12:56.178Z][INFO] ğŸ­ RepositoryFactory created
[2025-08-12T13:12:56.178Z][INFO] ğŸ”§ RepositoryFactory initializing...
[2025-08-12T13:12:56.178Z][INFO] Creating repository instances...
[2025-08-12T13:12:56.178Z][INFO] ğŸ­ DeviceRepository initialized with BaseEntity pattern
[2025-08-12T13:12:56.178Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.178Z][INFO] ğŸ”§ DeviceSettingsRepository initialized with device_id-based operations
[2025-08-12T13:12:56.178Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.178Z][INFO] ğŸ—„ï¸ DataPointRepository initialized with caching enabled
[2025-08-12T13:12:56.178Z][INFO] ğŸ­ DataPointRepository initialized with IRepository caching system
[2025-08-12T13:12:56.179Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.179Z][INFO] ğŸ­ UserRepository initialized with BaseEntity pattern
[2025-08-12T13:12:56.179Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.179Z][INFO] ğŸ­ TenantRepository initialized with BaseEntity pattern
[2025-08-12T13:12:56.179Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.179Z][INFO] ğŸ­ SiteRepository initialized with BaseEntity pattern
[2025-08-12T13:12:56.179Z][INFO] âœ… Cache enabled: YES
[2025-08-12T13:12:56.179Z][INFO] ğŸ—„ï¸ VirtualPointRepository initialized with caching enabled
[2025-08-12T13:12:56.179Z][INFO][VirtualPointRepository] ğŸ§® VirtualPointRepository initialized with ScriptLibraryRepository pattern
[2025-08-12T13:12:56.180Z][INFO][VirtualPointRepository] âœ… Cache enabled: YES
[2025-08-12T13:12:56.180Z][INFO] ğŸ­ CurrentValueRepository initialized with IRepository caching system
[2025-08-12T13:12:56.180Z][INFO] âœ… Cache enabled: true
[2025-08-12T13:12:56.180Z][INFO] ğŸ“Š Cache stats: 7 entries tracked
[2025-08-12T13:12:56.180Z][INFO] ğŸ—„ï¸ AlarmRuleRepository initialized with caching enabled
[2025-08-12T13:12:56.180Z][INFO][AlarmRuleRepository] ğŸš¨ AlarmRuleRepository initialized with ScriptLibraryRepository pattern
[2025-08-12T13:12:56.180Z][INFO][AlarmRuleRepository] âœ… Cache enabled: YES
[2025-08-12T13:12:56.180Z][INFO] ğŸ—„ï¸ AlarmOccurrenceRepository initialized with caching enabled
[2025-08-12T13:12:56.180Z][INFO][AlarmOccurrenceRepository] ğŸš¨ AlarmOccurrenceRepository initialized with ScriptLibraryRepository pattern
[2025-08-12T13:12:56.181Z][INFO][AlarmOccurrenceRepository] âœ… Cache enabled: YES
[2025-08-12T13:12:56.181Z][INFO] âš ï¸ ScriptLibraryRepository not created (implementation pending)
[2025-08-12T13:12:56.181Z][INFO] All repository instances created successfully
[2025-08-12T13:12:56.181Z][INFO] Connecting repository dependencies...
[2025-08-12T13:12:56.181Z][INFO] âœ… CurrentValueRepository injected into DataPointRepository
[2025-08-12T13:12:56.181Z][INFO] âœ… CurrentValueRepository connected to DataPointRepository
[2025-08-12T13:12:56.181Z][INFO] âœ… Repository dependencies connected successfully
[2025-08-12T13:12:56.181Z][INFO] Injecting dependencies into repositories...
[2025-08-12T13:12:56.181Z][INFO] Dependencies injected successfully
[2025-08-12T13:12:56.181Z][INFO] Applying repository configurations...
[2025-08-12T13:12:56.181Z][INFO] Step 1: Checking global cache settings
[2025-08-12T13:12:56.181Z][INFO] Step 2: Applying cache settings
[2025-08-12T13:12:56.181Z][INFO] Cache enabled globally
[2025-08-12T13:12:56.181Z][INFO] Step 3: Cache settings applied
[2025-08-12T13:12:56.182Z][INFO] Step 4: Configuration complete
[2025-08-12T13:12:56.182Z][INFO] âœ… Repository configurations applied successfully
[2025-08-12T13:12:56.182Z][INFO] âœ… RepositoryFactory initialized successfully
ğŸ”§ Redis ì—°ê²° ì‹œë„: pulseone-redis:6379
[2025-08-12T13:12:56.183Z][INFO][redis] Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
âœ… Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
ğŸ”§ íŒŒì´í”„ë¼ì¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...
[2025-08-12T13:12:56.183Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì‹œì‘ë¨
âœ… PipelineManager ì‹œì‘ë¨
[2025-08-12T13:12:56.183Z][INFO][processing] âœ… DataProcessingService ìƒì„±ë¨ - ìŠ¤ë ˆë“œ ìˆ˜: 4
[2025-08-12T13:12:56.183Z][INFO][processing] ğŸ”§ ìŠ¤ë ˆë“œ ìˆ˜ ì„¤ì •: 2
[2025-08-12T13:12:56.183Z][INFO][processing] ğŸš€ DataProcessingService ì‹œì‘ ì¤‘...
[2025-08-12T13:12:56.184Z][INFO][processing] âœ… DataProcessingService ì‹œì‘ ì™„ë£Œ (ìŠ¤ë ˆë“œ 2ê°œ)
âœ… DataProcessingService ì‹œì‘ë¨ (2ê°œ ì²˜ë¦¬ ìŠ¤ë ˆë“œ)

ğŸ” === í…ŒìŠ¤íŠ¸ ë°ì´í„° í™•ì¸ ===
[2025-08-12T13:12:56.184Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì‹œì‘
[2025-08-12T13:12:56.184Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.184Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.185Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.185Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.188Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_PLC_Temperature_Alarm
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Emergency_Stop_Alarm
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Current_Alarm
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Overload_Script
[2025-08-12T13:12:56.189Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.190Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Zone1_Temperature_Alarm
[2025-08-12T13:12:56.190Z][INFO][AlarmRuleRepository] findAll - Found 5 alarm rules
ğŸ“Š ì´ ì•ŒëŒ ê·œì¹™: 5ê°œ
ğŸ§ª í…ŒìŠ¤íŠ¸ ì•ŒëŒ ê·œì¹™: 5ê°œ
[2025-08-12T13:12:56.190Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.190Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.190Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.190Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.191Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.191Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:12:56.191Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:12:56.191Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:12:56.191Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.191Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.192Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:12:56.192Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:12:56.192Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.192Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.192Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.192Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.192Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.192Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.193Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.193Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.193Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.193Z][INFO] DeviceRepository::findAll - Found 8 devices
ğŸ“Š ì´ ë””ë°”ì´ìŠ¤: 8ê°œ
[2025-08-12T13:12:56.193Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.194Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.194Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.194Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.194Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.194Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:12:56.195Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:12:56.195Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:12:56.195Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.195Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.196Z][DEBUG] Original: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:12:56.196Z][DEBUG] Adapted: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:12:56.196Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.196Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.197Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.198Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.199Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.199Z][INFO] DataPointRepository::findAll - Found 18 data points
ğŸ“Š ì´ ë°ì´í„°í¬ì¸íŠ¸: 18ê°œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì™„ë£Œ

ğŸ” === ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ===
[2025-08-12T13:12:56.199Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.199Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.199Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.200Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.200Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.200Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:12:56.200Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:12:56.200Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:12:56.200Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.200Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.201Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:12:56.201Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:12:56.201Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.201Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.202Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.202Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.202Z][INFO] DeviceRepository::findAll - Found 8 devices
[2025-08-12T13:12:56.202Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.202Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.202Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.202Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:12:56.203Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.203Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:12:56.203Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:12:56.203Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:12:56.203Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.203Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.204Z][DEBUG] Original: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:12:56.204Z][DEBUG] Adapted: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:12:56.204Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.204Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.204Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.204Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.205Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.205Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.205Z][INFO] DataPointRepository::findByDeviceId - Found 5 data points for device: 1
ğŸ¯ ì„ íƒëœ ë””ë°”ì´ìŠ¤: PLC-001
ğŸ“Š ë°ì´í„°í¬ì¸íŠ¸: 5ê°œ
ğŸ¯ ì•ŒëŒ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ì •:
   - ì˜¨ë„ ì•ŒëŒ: ë°œìƒ
   - ëª¨í„° ê³¼ë¶€í•˜: ë°œìƒ
   - ë¹„ìƒì •ì§€: ì •ìƒ
ğŸ”¥ [PLC-001] ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜...
   ğŸ“ Production_Count = 956
   ğŸ“Š ë¼ì¸ ì†ë„: Line_Speed = 15.0 m/min
   ğŸš¨ ëª¨í„° ê³¼ë¶€í•˜ ë°ì´í„°: Motor_Current = 32.0A
   ğŸš¨ ì˜¨ë„ ì•ŒëŒ ë°œìƒ ë°ì´í„°: Temperature = 38.5Â°C
   âœ… ë¹„ìƒì •ì§€ ì •ìƒ: Emergency_Stop = FALSE
âœ… ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ: 5ê°œ í¬ì¸íŠ¸
âœ… ì•ŒëŒ ë°œìƒ ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ
â° ì•ŒëŒ í‰ê°€ ë° ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ëŒ€ê¸° ì¤‘ (10ì´ˆ)...
[2025-08-12T13:12:56.205Z][DEBUG][processing] ğŸ”„ ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘: 1ê°œ
[2025-08-12T13:12:56.205Z][DEBUG][processing] ğŸ§® ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì‹œì‘: 1ê°œ
[2025-08-12T13:12:56.206Z][INFO][VirtualPointEngine] ğŸ”§ VirtualPointEngine ìë™ ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:12:56.207Z][INFO][VirtualPointEngine] âœ… JavaScript ì—”ì§„ ì´ˆê¸°í™” ì™„ë£Œ
[2025-08-12T13:12:56.208Z][INFO][VirtualPointEngine] ì‹œìŠ¤í…œ í•¨ìˆ˜ 8/8 ê°œ ë“±ë¡ ì™„ë£Œ
[2025-08-12T13:12:56.208Z][INFO][VirtualPointEngine] âœ… VirtualPointEngine ìë™ ì´ˆê¸°í™” ì™„ë£Œ
[2025-08-12T13:12:56.208Z][INFO][VirtualPointEngine] ğŸš€ VirtualPointEngine ìë™ ì´ˆê¸°í™” ì„±ê³µ!
[2025-08-12T13:12:56.208Z][DEBUG][processing] âœ… ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì™„ë£Œ: ì´ 5ê°œ
[2025-08-12T13:12:56.208Z][DEBUG][alarm] AlarmManager constructor starting...
[2025-08-12T13:12:56.208Z][INFO][alarm] Clients initialization completed (Redis temporarily disabled)
[2025-08-12T13:12:56.208Z][DEBUG] AlarmEngine constructor starting...
[2025-08-12T13:12:56.208Z][DEBUG][redis] RedisClientImpl ìƒì„±ë¨ (hiredis ê¸°ë°˜)
[2025-08-12T13:12:56.209Z][ERROR][redis] Redis connect ì—ëŸ¬: ì—°ê²° ì‹¤íŒ¨: Connection refused
[2025-08-12T13:12:56.209Z][WARN] Failed to connect to Redis - alarm events will not be published
[2025-08-12T13:12:56.209Z][DEBUG][redis] RedisClientImpl ì†Œë©¸ë¨
[2025-08-12T13:12:56.209Z][INFO] JavaScript engine initialized for script alarms
[2025-08-12T13:12:56.209Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.210Z][DEBUG] DatabaseAbstractionLayer::executeNonQuery - Adapted query
[2025-08-12T13:12:56.210Z][ERROR][database] SQLite non-query failed: near "(": syntax error
[2025-08-12T13:12:56.210Z][DEBUG][AlarmEngine] Next occurrence ID initialized to: 1
[2025-08-12T13:12:56.211Z][DEBUG][AlarmEngine] Initial data loaded successfully
[2025-08-12T13:12:56.211Z][INFO] AlarmEngine initialized successfully in constructor
[2025-08-12T13:12:56.211Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.211Z][DEBUG][alarm] Initial data loaded, next occurrence ID: 1
[2025-08-12T13:12:56.211Z][INFO][alarm] Script engine initialized for AlarmManager
[2025-08-12T13:12:56.211Z][INFO][alarm] AlarmManager initialized successfully in constructor
[2025-08-12T13:12:56.211Z][DEBUG][processing] ğŸš¨ ì•ŒëŒ í‰ê°€ ì‹œì‘: 5ê°œ
[2025-08-12T13:12:56.212Z][DEBUG] Evaluating alarms for point 1
[2025-08-12T13:12:56.212Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.212Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.212Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.213Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.213Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.213Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.213Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:1
[2025-08-12T13:12:56.213Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:1
[2025-08-12T13:12:56.213Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:1 (tenant:0)
[2025-08-12T13:12:56.214Z][DEBUG] No alarm rules found for point 1
[2025-08-12T13:12:56.214Z][DEBUG] Evaluating alarms for point 2
[2025-08-12T13:12:56.214Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.214Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.214Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.214Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.215Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.215Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.215Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:2
[2025-08-12T13:12:56.215Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:2
[2025-08-12T13:12:56.215Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:2 (tenant:0)
[2025-08-12T13:12:56.215Z][DEBUG] No alarm rules found for point 2
[2025-08-12T13:12:56.215Z][DEBUG] Evaluating alarms for point 3
[2025-08-12T13:12:56.216Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.216Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.216Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.216Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.217Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.217Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.217Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.217Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Current_Alarm
[2025-08-12T13:12:56.217Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.217Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Overload_Script
[2025-08-12T13:12:56.217Z][INFO][AlarmRuleRepository] findByTarget - Found 2 alarm rules for data_point:3
[2025-08-12T13:12:56.218Z][DEBUG] ğŸ” Repository returned 2 rules for data_point:3
[2025-08-12T13:12:56.218Z][DEBUG] ğŸ“‹ Rule 1/2: ID=12, Name=TEST_Motor_Current_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=3
[2025-08-12T13:12:56.218Z][DEBUG] ğŸ” Filter check for rule 12: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:12:56.218Z][DEBUG] âœ… Rule 12 (TEST_Motor_Current_Alarm) ADDED to filtered list
[2025-08-12T13:12:56.218Z][DEBUG] ğŸ“‹ Rule 2/2: ID=15, Name=TEST_Motor_Overload_Script, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=3
[2025-08-12T13:12:56.218Z][DEBUG] ğŸ” Filter check for rule 15: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:12:56.219Z][DEBUG] âœ… Rule 15 (TEST_Motor_Overload_Script) ADDED to filtered list
[2025-08-12T13:12:56.219Z][DEBUG] ğŸ¯ Final result: 2 rules passed filtering for data_point:3 (tenant:0)
[2025-08-12T13:12:56.219Z][DEBUG] Found 2 alarm rules for point 3
[2025-08-12T13:12:56.219Z][DEBUG] Evaluating rule 12 (TEST_Motor_Current_Alarm) for point 3
[2025-08-12T13:12:56.219Z][DEBUG] Evaluating analog alarm for rule 12, value: 32.000000
[2025-08-12T13:12:56.220Z][DEBUG] HIGH condition met: 32.000000 >= 30.000000
[2025-08-12T13:12:56.220Z][DEBUG] Rule 12 - condition_triggered: 1, currently_in_alarm: 0
[2025-08-12T13:12:56.220Z][INFO] Analog alarm TRIGGERED for rule 12: HIGH
[2025-08-12T13:12:56.220Z][INFO] ğŸš¨ Alarm TRIGGERED: Rule 12 (TEST_Motor_Current_Alarm) for point 3
[2025-08-12T13:12:56.220Z][DEBUG] Evaluating rule 15 (TEST_Motor_Overload_Script) for point 3
[2025-08-12T13:12:56.220Z][DEBUG] Evaluating script alarm for rule 15
[2025-08-12T13:12:56.220Z][DEBUG] Executing condition script: var current = getPointValue(3); var temp = getPointValue(4); return current > 25 && temp > 30;
[2025-08-12T13:12:56.221Z][ERROR] JavaScript execution error: SyntaxError: return not in a function
[2025-08-12T13:12:56.221Z][DEBUG] No state change for rule 15 on point 3
[2025-08-12T13:12:56.221Z][INFO] Generated 1 alarm events for point 3
[2025-08-12T13:12:56.221Z][DEBUG][alarm] Notification processing completed for alarm 0
[2025-08-12T13:12:56.221Z][INFO][alarm] AlarmManager processed 1 enhanced alarm events
[2025-08-12T13:12:56.221Z][DEBUG][processing] ğŸ“ Redis ì•ŒëŒ ì €ì¥: alarm:active:12
[2025-08-12T13:12:56.221Z][INFO][processing] ğŸš¨ ì•ŒëŒ ë°œìƒ: TEST_Motor_Current_Alarm - HIGH (ê°’: 32.000000) (point_id=3)
[2025-08-12T13:12:56.221Z][DEBUG] Evaluating alarms for point 4
[2025-08-12T13:12:56.222Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.222Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.222Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.223Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.223Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.223Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.223Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.223Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_PLC_Temperature_Alarm
[2025-08-12T13:12:56.223Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:4
[2025-08-12T13:12:56.224Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:4
[2025-08-12T13:12:56.224Z][DEBUG] ğŸ“‹ Rule 1/1: ID=11, Name=TEST_PLC_Temperature_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=4
[2025-08-12T13:12:56.224Z][DEBUG] ğŸ” Filter check for rule 11: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:12:56.224Z][DEBUG] âœ… Rule 11 (TEST_PLC_Temperature_Alarm) ADDED to filtered list
[2025-08-12T13:12:56.224Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:4 (tenant:0)
[2025-08-12T13:12:56.224Z][DEBUG] Found 1 alarm rules for point 4
[2025-08-12T13:12:56.224Z][DEBUG] Evaluating rule 11 (TEST_PLC_Temperature_Alarm) for point 4
[2025-08-12T13:12:56.224Z][DEBUG] Evaluating analog alarm for rule 11, value: 38.500000
[2025-08-12T13:12:56.224Z][DEBUG] HIGH condition met: 38.500000 >= 35.000000
[2025-08-12T13:12:56.225Z][DEBUG] Rule 11 - condition_triggered: 1, currently_in_alarm: 0
[2025-08-12T13:12:56.225Z][INFO] Analog alarm TRIGGERED for rule 11: HIGH
[2025-08-12T13:12:56.225Z][INFO] ğŸš¨ Alarm TRIGGERED: Rule 11 (TEST_PLC_Temperature_Alarm) for point 4
[2025-08-12T13:12:56.225Z][INFO] Generated 1 alarm events for point 4
[2025-08-12T13:12:56.225Z][DEBUG][alarm] Notification processing completed for alarm 0
[2025-08-12T13:12:56.225Z][INFO][alarm] AlarmManager processed 1 enhanced alarm events
[2025-08-12T13:12:56.225Z][DEBUG][processing] ğŸ“ Redis ì•ŒëŒ ì €ì¥: alarm:active:11
[2025-08-12T13:12:56.225Z][INFO][processing] ğŸš¨ ì•ŒëŒ ë°œìƒ: TEST_PLC_Temperature_Alarm - HIGH (ê°’: 38.500000) (point_id=4)
[2025-08-12T13:12:56.225Z][DEBUG] Evaluating alarms for point 5
[2025-08-12T13:12:56.225Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.225Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:12:56.225Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:12:56.226Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.226Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:12:56.226Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:12:56.227Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:12:56.227Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Emergency_Stop_Alarm
[2025-08-12T13:12:56.227Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:5
[2025-08-12T13:12:56.227Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:5
[2025-08-12T13:12:56.227Z][DEBUG] ğŸ“‹ Rule 1/1: ID=13, Name=TEST_Emergency_Stop_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=5
[2025-08-12T13:12:56.227Z][DEBUG] ğŸ” Filter check for rule 13: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:12:56.227Z][DEBUG] âœ… Rule 13 (TEST_Emergency_Stop_Alarm) ADDED to filtered list
[2025-08-12T13:12:56.227Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:5 (tenant:0)
[2025-08-12T13:12:56.227Z][DEBUG] Found 1 alarm rules for point 5
[2025-08-12T13:12:56.227Z][DEBUG] Evaluating rule 13 (TEST_Emergency_Stop_Alarm) for point 5
[2025-08-12T13:12:56.227Z][DEBUG] Evaluating digital alarm for rule 13, value: false
[2025-08-12T13:12:56.228Z][DEBUG] ON_TRUE trigger: 0
[2025-08-12T13:12:56.228Z][DEBUG] Rule 13 - condition_triggered: 0, currently_in_alarm: 0
[2025-08-12T13:12:56.228Z][DEBUG] No state change for rule 13 on point 5
[2025-08-12T13:12:56.228Z][DEBUG] No state change for rule 13 on point 5
[2025-08-12T13:12:56.228Z][DEBUG] No alarm events generated for point 5
[2025-08-12T13:12:56.228Z][DEBUG][processing] âœ… ì•ŒëŒ í‰ê°€ ì™„ë£Œ: í‰ê°€=5ê°œ, ë°œìƒ=2ê°œ
[2025-08-12T13:12:56.228Z][DEBUG][processing] ğŸ”„ Redis ì €ì¥ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:12:56.229Z][DEBUG][processing] âœ… Redis ì €ì¥ ì™„ë£Œ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:12:56.229Z][DEBUG][processing] âœ… ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
[2025-08-12T13:12:56.229Z][DEBUG][processing] ğŸ§µ ìŠ¤ë ˆë“œ 0 ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
   ì²˜ë¦¬ ì§„í–‰... 1/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 2/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 3/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 4/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 5/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 6/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 7/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 8/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 9/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)
   ì²˜ë¦¬ ì§„í–‰... 10/10ì´ˆ (í: 0, ì²˜ë¦¬: 1)

ğŸ” === ì•ŒëŒ Redis í‚¤ ê²€ì¦ ===
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:6
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:7
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:8
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:10
ğŸ“Š ë°œê²¬ëœ ì•ŒëŒ í‚¤: 0/4

ğŸ” === ê°€ìƒí¬ì¸íŠ¸ Redis í‚¤ ê²€ì¦ ===
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:4:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:5:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:6:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:7:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:8:result
ğŸ“Š ë°œê²¬ëœ ê°€ìƒí¬ì¸íŠ¸ í‚¤: 0/5

ğŸ” === ê¸°ë³¸ ë°ì´í„° Redis í‚¤ ê²€ì¦ ===
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: device:full:1
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:4:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:3:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:5:latest
ğŸ“Š ë°œê²¬ëœ ê¸°ë³¸ í‚¤: 4/4

ğŸ“ˆ === ì•ŒëŒ ë°œìƒ í…ŒìŠ¤íŠ¸ ìµœì¢… ê²°ê³¼ ===
ğŸ“¤ íŒŒì´í”„ë¼ì¸ ì²˜ë¦¬: 1ê°œ
ğŸš¨ ì•ŒëŒ í‰ê°€: 5ê°œ
ğŸ”¥ ì•ŒëŒ ë°œìƒ: 2ê°œ
âœ… ê¸°ë³¸ í‚¤: ì„±ê³µ
ğŸš¨ ì•ŒëŒ í‚¤: ì‹¤íŒ¨
ğŸ§® ê°€ìƒí¬ì¸íŠ¸: ì‹¤íŒ¨

ğŸ‰ğŸ‰ğŸ‰ ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ ì„±ê³µ! ğŸ‰ğŸ‰ğŸ‰
âœ… DB â†’ WorkerìŠ¤ìº” â†’ íŒŒì´í”„ë¼ì¸ â†’ ì•ŒëŒí‰ê°€ â†’ Redis ì™„ì „ ë™ì‘!
[2025-08-12T13:13:06.235Z][INFO][processing] ğŸ›‘ DataProcessingService ì¤‘ì§€ ì¤‘...
[2025-08-12T13:13:06.290Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 0 ì¢…ë£Œ
[2025-08-12T13:13:06.315Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì¢…ë£Œ
[2025-08-12T13:13:06.316Z][INFO][processing] âœ… DataProcessingService ì¤‘ì§€ ì™„ë£Œ
[2025-08-12T13:13:06.316Z][INFO][processing] âœ… DataProcessingService ì†Œë©¸ë¨
âœ… DataProcessingService ì •ë¦¬ë¨
[2025-08-12T13:13:06.316Z][INFO] ğŸ›‘ PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì‹œì‘...
[2025-08-12T13:13:06.317Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì™„ë£Œ
âœ… PipelineManager ì •ë¦¬ë¨
[2025-08-12T13:13:06.318Z][INFO][redis] Redis ì—°ê²° í•´ì œ ì™„ë£Œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ì •ë¦¬ ì™„ë£Œ
[2025-08-12T13:13:06.318Z][DEBUG][redis] RedisClientImpl ì†Œë©¸ë¨
[       OK ] EnhancedPipelineTest.Alarm_Triggering_Simulation (10153 ms)
[ RUN      ] EnhancedPipelineTest.Virtual_Point_Calculation_Verification

ğŸš€ === ì•ŒëŒ + ê°€ìƒí¬ì¸íŠ¸ + Redis í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì‘ ===
[2025-08-12T13:13:06.318Z][INFO][config] ğŸ”§ ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:13:06.319Z][INFO][config] ğŸ“ ì„¤ì • ë””ë ‰í† ë¦¬: /app/collector/tests/config
[2025-08-12T13:13:06.321Z][INFO][config] ğŸ“„ .env - 0/53 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:06.321Z][INFO][config] âœ… ë©”ì¸ ì„¤ì • ë¡œë“œ: .env
[2025-08-12T13:13:06.321Z][INFO][config] ğŸ” ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì‹œì‘
[2025-08-12T13:13:06.322Z][INFO][config] ğŸ“„ database.env - 0/60 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:06.323Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: database.env
[2025-08-12T13:13:06.324Z][INFO][config] ğŸ“„ redis.env - 0/29 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:06.324Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: redis.env
[2025-08-12T13:13:06.325Z][INFO][config] ğŸ“„ timeseries.env - 0/48 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:06.325Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: timeseries.env
[2025-08-12T13:13:06.325Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì™„ë£Œ
[2025-08-12T13:13:06.326Z][INFO][config] âœ… ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì™„ë£Œ (115ê°œ ì„¤ì •, 12ê°œ íŒŒì¼)
[2025-08-12T13:13:06.326Z][INFO][database] âš¡ DatabaseManager ì´ë¯¸ ìë™ ì´ˆê¸°í™”ë¨ - ìˆ˜ë™ ì´ˆê¸°í™” ê±´ë„ˆëœ€
[2025-08-12T13:13:06.326Z][WARN] RepositoryFactory already initialized
[2025-08-12T13:13:06.326Z][DEBUG][redis] RedisClientImpl ìƒì„±ë¨ (hiredis ê¸°ë°˜)
ğŸ”§ Redis ì—°ê²° ì‹œë„: pulseone-redis:6379
[2025-08-12T13:13:06.328Z][DEBUG][redis] Redis ì»¨í…ìŠ¤íŠ¸ ì„¤ì • ì™„ë£Œ (íƒ€ì„ì•„ì›ƒ: 3000ms)
[2025-08-12T13:13:06.328Z][INFO][redis] Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
âœ… Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
ğŸ”§ íŒŒì´í”„ë¼ì¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...
[2025-08-12T13:13:06.328Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì‹œì‘ë¨
âœ… PipelineManager ì‹œì‘ë¨
[2025-08-12T13:13:06.328Z][INFO][processing] âœ… DataProcessingService ìƒì„±ë¨ - ìŠ¤ë ˆë“œ ìˆ˜: 4
[2025-08-12T13:13:06.329Z][INFO][processing] ğŸ”§ ìŠ¤ë ˆë“œ ìˆ˜ ì„¤ì •: 2
[2025-08-12T13:13:06.329Z][INFO][processing] ğŸš€ DataProcessingService ì‹œì‘ ì¤‘...
[2025-08-12T13:13:06.329Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 0 ì‹œì‘
[2025-08-12T13:13:06.330Z][INFO][processing] âœ… DataProcessingService ì‹œì‘ ì™„ë£Œ (ìŠ¤ë ˆë“œ 2ê°œ)
âœ… DataProcessingService ì‹œì‘ë¨ (2ê°œ ì²˜ë¦¬ ìŠ¤ë ˆë“œ)

ğŸ” === í…ŒìŠ¤íŠ¸ ë°ì´í„° í™•ì¸ ===
[2025-08-12T13:13:06.330Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.331Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì‹œì‘
[2025-08-12T13:13:06.331Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.331Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.333Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.333Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.334Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.334Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.334Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_PLC_Temperature_Alarm
[2025-08-12T13:13:06.334Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.335Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Emergency_Stop_Alarm
[2025-08-12T13:13:06.335Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.335Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Current_Alarm
[2025-08-12T13:13:06.335Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.336Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Overload_Script
[2025-08-12T13:13:06.336Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.336Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Zone1_Temperature_Alarm
[2025-08-12T13:13:06.336Z][INFO][AlarmRuleRepository] findAll - Found 5 alarm rules
ğŸ“Š ì´ ì•ŒëŒ ê·œì¹™: 5ê°œ
ğŸ§ª í…ŒìŠ¤íŠ¸ ì•ŒëŒ ê·œì¹™: 5ê°œ
[2025-08-12T13:13:06.337Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.338Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.339Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.340Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.341Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.341Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:06.341Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:13:06.341Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:06.341Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.342Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.343Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:06.343Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:06.343Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.343Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.344Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.345Z][INFO] DeviceRepository::findAll - Found 8 devices
ğŸ“Š ì´ ë””ë°”ì´ìŠ¤: 8ê°œ
[2025-08-12T13:13:06.345Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.345Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.346Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.346Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.347Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.347Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:06.347Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:13:06.347Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:06.347Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.347Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.349Z][DEBUG] Original: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:13:06.349Z][DEBUG] Adapted: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:13:06.349Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.350Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.351Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.352Z][INFO] DataPointRepository::findAll - Found 18 data points
ğŸ“Š ì´ ë°ì´í„°í¬ì¸íŠ¸: 18ê°œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì™„ë£Œ

ğŸ” === ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ê²€ì¦ í…ŒìŠ¤íŠ¸ ===
[2025-08-12T13:13:06.353Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.353Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.354Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.354Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.354Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.354Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:06.354Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:13:06.354Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:06.355Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.355Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.356Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:06.356Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:06.356Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.356Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.356Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.356Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.357Z][INFO] DeviceRepository::findAll - Found 8 devices
[2025-08-12T13:13:06.358Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.358Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.358Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.359Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:06.359Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.359Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:06.359Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:13:06.359Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:06.359Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.359Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.360Z][DEBUG] Original: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:06.360Z][DEBUG] Adapted: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:06.360Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.360Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.361Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.361Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.361Z][INFO] DataPointRepository::findByDeviceId - Found 3 data points for device: 12
ğŸ¯ ì„ íƒëœ ë””ë°”ì´ìŠ¤: RTU-TEMP-001
ğŸ“Š ë°ì´í„°í¬ì¸íŠ¸: 3ê°œ
ğŸ¯ ì•ŒëŒ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ì •:
   - ì˜¨ë„ ì•ŒëŒ: ì •ìƒ
   - ëª¨í„° ê³¼ë¶€í•˜: ì •ìƒ
   - ë¹„ìƒì •ì§€: ì •ìƒ
ğŸ”¥ [RTU-TEMP-001] ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜...
   ğŸ“ Zone1_Temperature = 24
   ğŸ“ Zone2_Temperature = 26
   ğŸ“ Ambient_Temperature = 28.1906
âœ… ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ: 3ê°œ í¬ì¸íŠ¸
âœ… ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚°ìš© ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ
â° ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ëŒ€ê¸° ì¤‘ (8ì´ˆ)...
[2025-08-12T13:13:06.361Z][DEBUG][processing] ğŸ”„ ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘: 1ê°œ
[2025-08-12T13:13:06.361Z][DEBUG][processing] ğŸ§® ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì‹œì‘: 1ê°œ
[2025-08-12T13:13:06.362Z][DEBUG][processing] âœ… ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì™„ë£Œ: ì´ 3ê°œ
[2025-08-12T13:13:06.362Z][DEBUG][processing] ğŸš¨ ì•ŒëŒ í‰ê°€ ì‹œì‘: 3ê°œ
[2025-08-12T13:13:06.362Z][DEBUG] Evaluating alarms for point 13
[2025-08-12T13:13:06.362Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.363Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.363Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.364Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.364Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.364Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.364Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:06.364Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Zone1_Temperature_Alarm
[2025-08-12T13:13:06.365Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:13
[2025-08-12T13:13:06.365Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:13
[2025-08-12T13:13:06.365Z][DEBUG] ğŸ“‹ Rule 1/1: ID=14, Name=TEST_Zone1_Temperature_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=13
[2025-08-12T13:13:06.365Z][DEBUG] ğŸ” Filter check for rule 14: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:06.365Z][DEBUG] âœ… Rule 14 (TEST_Zone1_Temperature_Alarm) ADDED to filtered list
[2025-08-12T13:13:06.365Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:13 (tenant:0)
[2025-08-12T13:13:06.365Z][DEBUG] Found 1 alarm rules for point 13
[2025-08-12T13:13:06.365Z][DEBUG] Evaluating rule 14 (TEST_Zone1_Temperature_Alarm) for point 13
[2025-08-12T13:13:06.365Z][DEBUG] Evaluating analog alarm for rule 14, value: 24.000000
[2025-08-12T13:13:06.365Z][DEBUG] Value in normal range: 24.000000
[2025-08-12T13:13:06.366Z][DEBUG] Rule 14 - condition_triggered: 0, currently_in_alarm: 0
[2025-08-12T13:13:06.366Z][DEBUG] No state change for rule 14 on point 13
[2025-08-12T13:13:06.366Z][DEBUG] No state change for rule 14 on point 13
[2025-08-12T13:13:06.366Z][DEBUG] No alarm events generated for point 13
[2025-08-12T13:13:06.366Z][DEBUG] Evaluating alarms for point 14
[2025-08-12T13:13:06.366Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.366Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.366Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.367Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.367Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.368Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.368Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:14
[2025-08-12T13:13:06.368Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:14
[2025-08-12T13:13:06.368Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:14 (tenant:0)
[2025-08-12T13:13:06.368Z][DEBUG] No alarm rules found for point 14
[2025-08-12T13:13:06.368Z][DEBUG] Evaluating alarms for point 15
[2025-08-12T13:13:06.369Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.369Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:06.369Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:06.370Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.370Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:06.370Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:06.370Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:15
[2025-08-12T13:13:06.371Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:15
[2025-08-12T13:13:06.371Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:15 (tenant:0)
[2025-08-12T13:13:06.371Z][DEBUG] No alarm rules found for point 15
[2025-08-12T13:13:06.371Z][DEBUG][processing] âœ… ì•ŒëŒ í‰ê°€ ì™„ë£Œ: í‰ê°€=3ê°œ, ë°œìƒ=0ê°œ
[2025-08-12T13:13:06.371Z][DEBUG][processing] ğŸ”„ Redis ì €ì¥ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:06.372Z][DEBUG][processing] âœ… Redis ì €ì¥ ì™„ë£Œ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:06.372Z][DEBUG][processing] âœ… ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
[2025-08-12T13:13:06.372Z][DEBUG][processing] ğŸ§µ ìŠ¤ë ˆë“œ 0 ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ

ğŸ” === ê°€ìƒí¬ì¸íŠ¸ Redis í‚¤ ê²€ì¦ ===
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:4:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:5:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:6:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:7:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:8:result
ğŸ“Š ë°œê²¬ëœ ê°€ìƒí¬ì¸íŠ¸ í‚¤: 0/5

ğŸ” === ê¸°ë³¸ ë°ì´í„° Redis í‚¤ ê²€ì¦ ===
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: device:full:12
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:4:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:3:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:5:latest
ğŸ“Š ë°œê²¬ëœ ê¸°ë³¸ í‚¤: 4/4

ğŸ“ˆ === ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ìµœì¢… ê²°ê³¼ ===
ğŸ“Š ì²˜ë¦¬ëœ ë©”ì‹œì§€: 1ê°œ
âœ… ê¸°ë³¸ í‚¤: ì„±ê³µ
ğŸ§® ê°€ìƒí¬ì¸íŠ¸: ì‹¤íŒ¨

ğŸ¯ === ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ê²€ì¦ ì™„ë£Œ ===
[2025-08-12T13:13:14.363Z][INFO][processing] ğŸ›‘ DataProcessingService ì¤‘ì§€ ì¤‘...
[2025-08-12T13:13:14.446Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì¢…ë£Œ
[2025-08-12T13:13:14.466Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 0 ì¢…ë£Œ
[2025-08-12T13:13:14.466Z][INFO][processing] âœ… DataProcessingService ì¤‘ì§€ ì™„ë£Œ
[2025-08-12T13:13:14.466Z][INFO][processing] âœ… DataProcessingService ì†Œë©¸ë¨
âœ… DataProcessingService ì •ë¦¬ë¨
[2025-08-12T13:13:14.466Z][INFO] ğŸ›‘ PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì‹œì‘...
[2025-08-12T13:13:14.467Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì™„ë£Œ
âœ… PipelineManager ì •ë¦¬ë¨
[2025-08-12T13:13:14.467Z][INFO][redis] Redis ì—°ê²° í•´ì œ ì™„ë£Œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ì •ë¦¬ ì™„ë£Œ
[2025-08-12T13:13:14.467Z][DEBUG][redis] RedisClientImpl ì†Œë©¸ë¨
[       OK ] EnhancedPipelineTest.Virtual_Point_Calculation_Verification (8148 ms)
[ RUN      ] EnhancedPipelineTest.Complete_Alarm_And_VirtualPoint_Integration

ğŸš€ === ì•ŒëŒ + ê°€ìƒí¬ì¸íŠ¸ + Redis í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì‘ ===
[2025-08-12T13:13:14.467Z][INFO][config] ğŸ”§ ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì‹œì‘...
[2025-08-12T13:13:14.468Z][INFO][config] ğŸ“ ì„¤ì • ë””ë ‰í† ë¦¬: /app/collector/tests/config
[2025-08-12T13:13:14.468Z][INFO][config] ğŸ“„ .env - 0/53 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:14.469Z][INFO][config] âœ… ë©”ì¸ ì„¤ì • ë¡œë“œ: .env
[2025-08-12T13:13:14.469Z][INFO][config] ğŸ” ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì‹œì‘
[2025-08-12T13:13:14.469Z][INFO][config] ğŸ“„ database.env - 0/60 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:14.469Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: database.env
[2025-08-12T13:13:14.470Z][INFO][config] ğŸ“„ redis.env - 0/29 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:14.470Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: redis.env
[2025-08-12T13:13:14.470Z][INFO][config] ğŸ“„ timeseries.env - 0/48 ë¼ì¸ íŒŒì‹±ë¨
[2025-08-12T13:13:14.470Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • ë¡œë“œ: timeseries.env
[2025-08-12T13:13:14.470Z][INFO][config] âœ… ì¶”ê°€ ì„¤ì • íŒŒì¼ í™•ì¸ ì™„ë£Œ
[2025-08-12T13:13:14.471Z][INFO][config] âœ… ConfigManager ì‹¤ìš©ì  ì´ˆê¸°í™” ì™„ë£Œ (115ê°œ ì„¤ì •, 16ê°œ íŒŒì¼)
[2025-08-12T13:13:14.471Z][INFO][database] âš¡ DatabaseManager ì´ë¯¸ ìë™ ì´ˆê¸°í™”ë¨ - ìˆ˜ë™ ì´ˆê¸°í™” ê±´ë„ˆëœ€
[2025-08-12T13:13:14.471Z][WARN] RepositoryFactory already initialized
[2025-08-12T13:13:14.471Z][DEBUG][redis] RedisClientImpl ìƒì„±ë¨ (hiredis ê¸°ë°˜)
ğŸ”§ Redis ì—°ê²° ì‹œë„: pulseone-redis:6379
[2025-08-12T13:13:14.471Z][DEBUG][redis] Redis ì»¨í…ìŠ¤íŠ¸ ì„¤ì • ì™„ë£Œ (íƒ€ì„ì•„ì›ƒ: 3000ms)
[2025-08-12T13:13:14.471Z][INFO][redis] Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
âœ… Redis ì—°ê²° ì„±ê³µ: pulseone-redis:6379
ğŸ”§ íŒŒì´í”„ë¼ì¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...
[2025-08-12T13:13:14.472Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì‹œì‘ë¨
âœ… PipelineManager ì‹œì‘ë¨
[2025-08-12T13:13:14.472Z][INFO][processing] âœ… DataProcessingService ìƒì„±ë¨ - ìŠ¤ë ˆë“œ ìˆ˜: 4
[2025-08-12T13:13:14.472Z][INFO][processing] ğŸ”§ ìŠ¤ë ˆë“œ ìˆ˜ ì„¤ì •: 2
[2025-08-12T13:13:14.472Z][INFO][processing] ğŸš€ DataProcessingService ì‹œì‘ ì¤‘...
[2025-08-12T13:13:14.472Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 0 ì‹œì‘
[2025-08-12T13:13:14.473Z][INFO][processing] âœ… DataProcessingService ì‹œì‘ ì™„ë£Œ (ìŠ¤ë ˆë“œ 2ê°œ)
âœ… DataProcessingService ì‹œì‘ë¨ (2ê°œ ì²˜ë¦¬ ìŠ¤ë ˆë“œ)

ğŸ” === í…ŒìŠ¤íŠ¸ ë°ì´í„° í™•ì¸ ===
[2025-08-12T13:13:14.473Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.473Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.473Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.473Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì‹œì‘
[2025-08-12T13:13:14.474Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.474Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.474Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.474Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_PLC_Temperature_Alarm
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Emergency_Stop_Alarm
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Current_Alarm
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Overload_Script
[2025-08-12T13:13:14.475Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.476Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Zone1_Temperature_Alarm
[2025-08-12T13:13:14.476Z][INFO][AlarmRuleRepository] findAll - Found 5 alarm rules
ğŸ“Š ì´ ì•ŒëŒ ê·œì¹™: 5ê°œ
ğŸ§ª í…ŒìŠ¤íŠ¸ ì•ŒëŒ ê·œì¹™: 5ê°œ
[2025-08-12T13:13:14.476Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.476Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.477Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.477Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.477Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.477Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:14.477Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:13:14.477Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:14.478Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.478Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.478Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:14.478Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:14.479Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.479Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.480Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.480Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.480Z][INFO] DeviceRepository::findAll - Found 8 devices
ğŸ“Š ì´ ë””ë°”ì´ìŠ¤: 8ê°œ
[2025-08-12T13:13:14.480Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.480Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.481Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.481Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.481Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.481Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:14.481Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:13:14.481Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:14.481Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.482Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.482Z][DEBUG] Original: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:13:14.482Z][DEBUG] Adapted: 
        SELECT 
            -- ê¸°ë³¸ ì‹ë³„ ì •ë...
[2025-08-12T13:13:14.483Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.483Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.483Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.483Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.483Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.483Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.484Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.485Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.486Z][INFO] DataPointRepository::findAll - Found 18 data points
ğŸ“Š ì´ ë°ì´í„°í¬ì¸íŠ¸: 18ê°œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì™„ë£Œ

ğŸ” === ğŸš€ ì™„ì „ í†µí•© í…ŒìŠ¤íŠ¸ (ì•ŒëŒ + ê°€ìƒí¬ì¸íŠ¸) ===
[2025-08-12T13:13:14.486Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.486Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.487Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.487Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.487Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.487Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'devices' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:14.487Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: devices
[2025-08-12T13:13:14.487Z][DEBUG] DeviceRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:14.487Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.488Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.488Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:14.488Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, site_i...
[2025-08-12T13:13:14.489Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.489Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.489Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.489Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.489Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.489Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.490Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.490Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.490Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.490Z][INFO] DeviceRepository::findAll - Found 8 devices
ğŸ¯ ëª¨ë“  ë””ë°”ì´ìŠ¤ ì¢…í•© í…ŒìŠ¤íŠ¸: 8ê°œ

ğŸ”§ === PLC-001 ì²˜ë¦¬ ===
[2025-08-12T13:13:14.490Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.490Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.491Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.491Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.491Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.491Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:14.491Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:13:14.491Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:14.492Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.492Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.493Z][DEBUG] Original: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:14.493Z][DEBUG] Adapted: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:14.493Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.493Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.493Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.493Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.493Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.494Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.494Z][INFO] DataPointRepository::findByDeviceId - Found 5 data points for device: 1
ğŸ¯ ì•ŒëŒ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ì •:
   - ì˜¨ë„ ì•ŒëŒ: ë°œìƒ
   - ëª¨í„° ê³¼ë¶€í•˜: ì •ìƒ
   - ë¹„ìƒì •ì§€: í™œì„±í™”
ğŸ”¥ [PLC-001] ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜...
   ğŸ“ Production_Count = 785
   ğŸ“Š ë¼ì¸ ì†ë„: Line_Speed = 15.0 m/min
   âœ… ëª¨í„° ì •ìƒ: Motor_Current = 20.0A
   ğŸš¨ ì˜¨ë„ ì•ŒëŒ ë°œìƒ ë°ì´í„°: Temperature = 38.5Â°C
   ğŸš¨ ë¹„ìƒì •ì§€ í™œì„±í™”: Emergency_Stop = TRUE
âœ… ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ: 5ê°œ í¬ì¸íŠ¸
   ğŸ“¤ ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ: 5ê°œ í¬ì¸íŠ¸

ğŸ”§ === RTU-TEMP-001 ì²˜ë¦¬ ===
[2025-08-12T13:13:14.494Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.494Z][DEBUG][processing] ğŸ”„ ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘: 1ê°œ
[2025-08-12T13:13:14.494Z][DEBUG][processing] ğŸ§® ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì‹œì‘: 1ê°œ
[2025-08-12T13:13:14.494Z][DEBUG][processing] âœ… ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì™„ë£Œ: ì´ 5ê°œ
[2025-08-12T13:13:14.494Z][DEBUG][processing] ğŸš¨ ì•ŒëŒ í‰ê°€ ì‹œì‘: 5ê°œ
[2025-08-12T13:13:14.494Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.494Z][DEBUG] Evaluating alarms for point 1
[2025-08-12T13:13:14.495Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.495Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.495Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.495Z][DEBUG] Original: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.496Z][DEBUG] Adapted: SELECT name FROM sqlite_master WHERE type='table' ...
[2025-08-12T13:13:14.496Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.496Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.496Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.496Z][DEBUG][database] ğŸ” í…Œì´ë¸” 'data_points' ì¡´ì¬ ì—¬ë¶€: ì¡´ì¬
[2025-08-12T13:13:14.496Z][DEBUG][database] âœ… í…Œì´ë¸” ì´ë¯¸ ì¡´ì¬: data_points
[2025-08-12T13:13:14.497Z][DEBUG] DataPointRepository::ensureTableExists - Table creation/check completed
[2025-08-12T13:13:14.497Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.497Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:1
[2025-08-12T13:13:14.497Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:1
[2025-08-12T13:13:14.497Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:1 (tenant:0)
[2025-08-12T13:13:14.497Z][DEBUG] No alarm rules found for point 1
[2025-08-12T13:13:14.497Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.498Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.498Z][DEBUG] Evaluating alarms for point 2
[2025-08-12T13:13:14.498Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.498Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.498Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.498Z][DEBUG] Original: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:14.499Z][DEBUG] Adapted: 
        SELECT 
            id, device_id, name, ...
[2025-08-12T13:13:14.499Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.499Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.499Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.499Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.499Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.500Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.500Z][INFO] DataPointRepository::findByDeviceId - Found 3 data points for device: 12
ğŸ¯ ì•ŒëŒ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ì •:
   - ì˜¨ë„ ì•ŒëŒ: ì •ìƒ
   - ëª¨í„° ê³¼ë¶€í•˜: ì •ìƒ
   - ë¹„ìƒì •ì§€: ì •ìƒ
ğŸ”¥ [RTU-TEMP-001] ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜...
   ğŸ“ Zone1_Temperature = [2025-08-12T13:13:14.500Z][INFO][database] SQLite query executed successfully
24
   ğŸ“ Zone2_Temperature = 26
   ğŸ“ Ambient_Temperature = 34.1902
âœ… ì•ŒëŒ ë°œìƒ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ: 3ê°œ í¬ì¸íŠ¸
[2025-08-12T13:13:14.500Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:2
   ğŸ“¤ ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ: 3ê°œ í¬ì¸íŠ¸

â° ì „ì²´ ì²˜ë¦¬ ëŒ€ê¸° ì¤‘ (15ì´ˆ)...
[2025-08-12T13:13:14.500Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:2
[2025-08-12T13:13:14.500Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:2 (tenant:0)
[2025-08-12T13:13:14.500Z][DEBUG] No alarm rules found for point 2
[2025-08-12T13:13:14.500Z][DEBUG] Evaluating alarms for point 3
[2025-08-12T13:13:14.500Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.501Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.501Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.501Z][DEBUG][processing] ğŸ”„ ë°°ì¹˜ ì²˜ë¦¬ ì‹œì‘: 1ê°œ
[2025-08-12T13:13:14.501Z][DEBUG][processing] ğŸ§® ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì‹œì‘: 1ê°œ
[2025-08-12T13:13:14.501Z][DEBUG][processing] âœ… ê°€ìƒí¬ì¸íŠ¸ ê³„ì‚° ì™„ë£Œ: ì´ 3ê°œ
[2025-08-12T13:13:14.501Z][DEBUG][processing] ğŸš¨ ì•ŒëŒ í‰ê°€ ì‹œì‘: 3ê°œ
[2025-08-12T13:13:14.501Z][DEBUG] Evaluating alarms for point 13
[2025-08-12T13:13:14.502Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.502Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.502Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.502Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.502Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.502Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.503Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.503Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.503Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.503Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Current_Alarm
[2025-08-12T13:13:14.503Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.503Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Motor_Overload_Script
[2025-08-12T13:13:14.503Z][INFO][AlarmRuleRepository] findByTarget - Found 2 alarm rules for data_point:3
[2025-08-12T13:13:14.504Z][DEBUG] ğŸ” Repository returned 2 rules for data_point:3
[2025-08-12T13:13:14.504Z][DEBUG] ğŸ“‹ Rule 1/2: ID=12, Name=TEST_Motor_Current_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=3
[2025-08-12T13:13:14.504Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.504Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.504Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Zone1_Temperature_Alarm
[2025-08-12T13:13:14.504Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:13
[2025-08-12T13:13:14.505Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:13
[2025-08-12T13:13:14.505Z][DEBUG] ğŸ“‹ Rule 1/1: ID=14, Name=TEST_Zone1_Temperature_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=13
[2025-08-12T13:13:14.505Z][DEBUG] ğŸ” Filter check for rule 14: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:14.505Z][DEBUG] âœ… Rule 14 (TEST_Zone1_Temperature_Alarm) ADDED to filtered list
[2025-08-12T13:13:14.505Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:13 (tenant:0)
[2025-08-12T13:13:14.505Z][DEBUG] Found 1 alarm rules for point 13
[2025-08-12T13:13:14.505Z][DEBUG] ğŸ” Filter check for rule 12: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:14.505Z][DEBUG] Evaluating rule 14 (TEST_Zone1_Temperature_Alarm) for point 13
[2025-08-12T13:13:14.506Z][DEBUG] âœ… Rule 12 (TEST_Motor_Current_Alarm) ADDED to filtered list
[2025-08-12T13:13:14.506Z][DEBUG] ğŸ“‹ Rule 2/2: ID=15, Name=TEST_Motor_Overload_Script, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=3
[2025-08-12T13:13:14.506Z][DEBUG] ğŸ” Filter check for rule 15: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:14.506Z][DEBUG] âœ… Rule 15 (TEST_Motor_Overload_Script) ADDED to filtered list
[2025-08-12T13:13:14.506Z][DEBUG] ğŸ¯ Final result: 2 rules passed filtering for data_point:3 (tenant:0)
[2025-08-12T13:13:14.507Z][DEBUG] Found 2 alarm rules for point 3
[2025-08-12T13:13:14.507Z][DEBUG] Evaluating rule 12 (TEST_Motor_Current_Alarm) for point 3
[2025-08-12T13:13:14.507Z][DEBUG] Evaluating analog alarm for rule 12, value: 20.000000
[2025-08-12T13:13:14.507Z][DEBUG] Value in normal range: 20.000000
[2025-08-12T13:13:14.507Z][DEBUG] Rule 12 - condition_triggered: 0, currently_in_alarm: 1
[2025-08-12T13:13:14.507Z][DEBUG] Hysteresis check for clearing: 1, deadband: 1.000000
[2025-08-12T13:13:14.507Z][INFO] Analog alarm CLEARED for rule 12: AUTO_CLEAR
[2025-08-12T13:13:14.507Z][INFO] âœ… Alarm CLEARED: Rule 12 (TEST_Motor_Current_Alarm) for point 3
[2025-08-12T13:13:14.507Z][DEBUG] Evaluating rule 15 (TEST_Motor_Overload_Script) for point 3
[2025-08-12T13:13:14.508Z][DEBUG] Evaluating script alarm for rule 15
[2025-08-12T13:13:14.506Z][DEBUG] Evaluating analog alarm for rule 14, value: 24.000000
[2025-08-12T13:13:14.508Z][DEBUG] Value in normal range: 24.000000
[2025-08-12T13:13:14.508Z][DEBUG] Rule 14 - condition_triggered: 0, currently_in_alarm: 0
[2025-08-12T13:13:14.508Z][DEBUG] No state change for rule 14 on point 13
[2025-08-12T13:13:14.508Z][DEBUG] No state change for rule 14 on point 13
[2025-08-12T13:13:14.508Z][DEBUG] No alarm events generated for point 13
[2025-08-12T13:13:14.508Z][DEBUG] Evaluating alarms for point 14
[2025-08-12T13:13:14.509Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.509Z][DEBUG] Executing condition script: var current = getPointValue(3); var temp = getPointValue(4); return current > 25 && temp > 30;
[2025-08-12T13:13:14.509Z][ERROR] JavaScript execution error: SyntaxError: return not in a function
[2025-08-12T13:13:14.509Z][DEBUG] No state change for rule 15 on point 3
[2025-08-12T13:13:14.509Z][INFO] Generated 1 alarm events for point 3
[2025-08-12T13:13:14.509Z][DEBUG][alarm] Notification processing completed for alarm 0
[2025-08-12T13:13:14.509Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.510Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.510Z][INFO][alarm] AlarmManager processed 1 enhanced alarm events
[2025-08-12T13:13:14.510Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.510Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.511Z][DEBUG][processing] ğŸ“ Redis ì•ŒëŒ ì €ì¥: alarm:active:12
[2025-08-12T13:13:14.511Z][INFO][processing] ğŸš¨ ì•ŒëŒ ë°œìƒ: Alarm cleared: TEST_Motor_Current_Alarm - AUTO_CLEAR (ê°’: 20.000000) (point_id=3)
[2025-08-12T13:13:14.511Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.511Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:14
[2025-08-12T13:13:14.511Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:14
[2025-08-12T13:13:14.511Z][DEBUG] Evaluating alarms for point 4
[2025-08-12T13:13:14.512Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.512Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.512Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.512Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:14 (tenant:0)
[2025-08-12T13:13:14.512Z][DEBUG] No alarm rules found for point 14
[2025-08-12T13:13:14.512Z][DEBUG] Evaluating alarms for point 15
[2025-08-12T13:13:14.512Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.513Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.513Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.513Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.513Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.513Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.514Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.514Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.514Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.514Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_PLC_Temperature_Alarm
[2025-08-12T13:13:14.514Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:4
[2025-08-12T13:13:14.514Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:4
[2025-08-12T13:13:14.514Z][DEBUG] ğŸ“‹ Rule 1/1: ID=11, Name=TEST_PLC_Temperature_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=4
[2025-08-12T13:13:14.514Z][DEBUG] ğŸ” Filter check for rule 11: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:14.514Z][DEBUG] âœ… Rule 11 (TEST_PLC_Temperature_Alarm) ADDED to filtered list
[2025-08-12T13:13:14.515Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:4 (tenant:0)
[2025-08-12T13:13:14.515Z][DEBUG] Found 1 alarm rules for point 4
[2025-08-12T13:13:14.515Z][DEBUG] Evaluating rule 11 (TEST_PLC_Temperature_Alarm) for point 4
[2025-08-12T13:13:14.515Z][DEBUG] Evaluating analog alarm for rule 11, value: 38.500000
[2025-08-12T13:13:14.515Z][DEBUG] HIGH condition met: 38.500000 >= 35.000000
[2025-08-12T13:13:14.515Z][DEBUG] Rule 11 - condition_triggered: 1, currently_in_alarm: 1
[2025-08-12T13:13:14.515Z][DEBUG] No state change for rule 11 on point 4
[2025-08-12T13:13:14.515Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.515Z][INFO][AlarmRuleRepository] findByTarget - Found 0 alarm rules for data_point:15
[2025-08-12T13:13:14.516Z][DEBUG] ğŸ” Repository returned 0 rules for data_point:15
[2025-08-12T13:13:14.516Z][DEBUG] ğŸ¯ Final result: 0 rules passed filtering for data_point:15 (tenant:0)
[2025-08-12T13:13:14.516Z][DEBUG] No alarm rules found for point 15
[2025-08-12T13:13:14.516Z][DEBUG][processing] âœ… ì•ŒëŒ í‰ê°€ ì™„ë£Œ: í‰ê°€=3ê°œ, ë°œìƒ=0ê°œ
[2025-08-12T13:13:14.516Z][DEBUG][processing] ğŸ”„ Redis ì €ì¥ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:14.516Z][DEBUG] No state change for rule 11 on point 4
[2025-08-12T13:13:14.516Z][DEBUG] No alarm events generated for point 4
[2025-08-12T13:13:14.517Z][DEBUG] Evaluating alarms for point 5
[2025-08-12T13:13:14.517Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.517Z][DEBUG] DatabaseAbstractionLayer created for DB type: SQLITE
[2025-08-12T13:13:14.517Z][DEBUG] DatabaseAbstractionLayer::executeQuery - Processing query
[2025-08-12T13:13:14.517Z][DEBUG][processing] âœ… Redis ì €ì¥ ì™„ë£Œ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:14.518Z][DEBUG][processing] âœ… ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
[2025-08-12T13:13:14.518Z][DEBUG][processing] ğŸ§µ ìŠ¤ë ˆë“œ 1 ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
[2025-08-12T13:13:14.518Z][DEBUG] Original: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.518Z][DEBUG] Adapted: 
        SELECT 
            id, tenant_id, name, ...
[2025-08-12T13:13:14.518Z][INFO][database] SQLite query executed successfully
[2025-08-12T13:13:14.518Z][DEBUG][AlarmRuleRepository] mapRowToEntity - Processing 35 columns
[2025-08-12T13:13:14.518Z][DEBUG][AlarmRuleRepository] Successfully mapped alarm rule: TEST_Emergency_Stop_Alarm
[2025-08-12T13:13:14.519Z][INFO][AlarmRuleRepository] findByTarget - Found 1 alarm rules for data_point:5
[2025-08-12T13:13:14.519Z][DEBUG] ğŸ” Repository returned 1 rules for data_point:5
[2025-08-12T13:13:14.519Z][DEBUG] ğŸ“‹ Rule 1/1: ID=13, Name=TEST_Emergency_Stop_Alarm, TenantId=1, Enabled=YES, TargetType=data_point, TargetId=5
[2025-08-12T13:13:14.519Z][DEBUG] ğŸ” Filter check for rule 13: tenant_match=NO (ìš”ì²­:0, ê·œì¹™:1), enabled=YES
[2025-08-12T13:13:14.519Z][DEBUG] âœ… Rule 13 (TEST_Emergency_Stop_Alarm) ADDED to filtered list
[2025-08-12T13:13:14.519Z][DEBUG] ğŸ¯ Final result: 1 rules passed filtering for data_point:5 (tenant:0)
[2025-08-12T13:13:14.519Z][DEBUG] Found 1 alarm rules for point 5
[2025-08-12T13:13:14.519Z][DEBUG] Evaluating rule 13 (TEST_Emergency_Stop_Alarm) for point 5
[2025-08-12T13:13:14.519Z][DEBUG] Evaluating digital alarm for rule 13, value: true
[2025-08-12T13:13:14.519Z][DEBUG] ON_TRUE trigger: 1
[2025-08-12T13:13:14.519Z][DEBUG] Rule 13 - condition_triggered: 1, currently_in_alarm: 0
[2025-08-12T13:13:14.520Z][INFO] Digital alarm TRIGGERED for rule 13: DIGITAL_TRUE
[2025-08-12T13:13:14.520Z][INFO] ğŸš¨ Alarm TRIGGERED: Rule 13 (TEST_Emergency_Stop_Alarm) for point 5
[2025-08-12T13:13:14.520Z][INFO] Generated 1 alarm events for point 5
[2025-08-12T13:13:14.520Z][DEBUG][alarm] Notification processing completed for alarm 0
[2025-08-12T13:13:14.520Z][INFO][alarm] AlarmManager processed 1 enhanced alarm events
[2025-08-12T13:13:14.520Z][DEBUG][processing] ğŸ“ Redis ì•ŒëŒ ì €ì¥: alarm:active:13
[2025-08-12T13:13:14.521Z][INFO][processing] ğŸš¨ ì•ŒëŒ ë°œìƒ: TEST_Emergency_Stop_Alarm - DIGITAL_TRUE (ê°’: 1.000000) (point_id=5)
[2025-08-12T13:13:14.521Z][DEBUG][processing] âœ… ì•ŒëŒ í‰ê°€ ì™„ë£Œ: í‰ê°€=5ê°œ, ë°œìƒ=2ê°œ
[2025-08-12T13:13:14.521Z][DEBUG][processing] ğŸ”„ Redis ì €ì¥ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:14.522Z][DEBUG][processing] âœ… Redis ì €ì¥ ì™„ë£Œ (ì „ì²´ ë°ì´í„°): 1ê°œ
[2025-08-12T13:13:14.522Z][DEBUG][processing] âœ… ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
[2025-08-12T13:13:14.522Z][DEBUG][processing] ğŸ§µ ìŠ¤ë ˆë“œ 0 ë°°ì¹˜ ì²˜ë¦¬ ì™„ë£Œ: 1ê°œ
   í†µí•© ì²˜ë¦¬... 1/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 2/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 3/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 4/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 5/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 6/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 7/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 8/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 9/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 10/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 11/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 12/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 13/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 14/15ì´ˆ (í: 0, ì™„ë£Œ: 4)
   í†µí•© ì²˜ë¦¬... 15/15ì´ˆ (í: 0, ì™„ë£Œ: 4)

ğŸ” === ì•ŒëŒ Redis í‚¤ ê²€ì¦ ===
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:6
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:7
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:8
âŒ ì•ŒëŒ í‚¤ ëˆ„ë½: alarm:active:10
ğŸ“Š ë°œê²¬ëœ ì•ŒëŒ í‚¤: 0/4

ğŸ” === ê°€ìƒí¬ì¸íŠ¸ Redis í‚¤ ê²€ì¦ ===
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:4:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:5:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:6:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:7:result
âŒ ê°€ìƒí¬ì¸íŠ¸ í‚¤ ëˆ„ë½: virtual_point:8:result
ğŸ“Š ë°œê²¬ëœ ê°€ìƒí¬ì¸íŠ¸ í‚¤: 0/5

ğŸ” === ê¸°ë³¸ ë°ì´í„° Redis í‚¤ ê²€ì¦ ===
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: device:full:1
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:4:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:3:latest
âœ… ê¸°ë³¸ í‚¤ ë°œê²¬: point:5:latest
ğŸ“Š ë°œê²¬ëœ ê¸°ë³¸ í‚¤: 4/4

ğŸ“ˆ === ğŸ‰ ì™„ì „ í†µí•© í…ŒìŠ¤íŠ¸ ìµœì¢… ê²°ê³¼ ğŸ‰ ===
ğŸ“Š í…ŒìŠ¤íŠ¸ ë””ë°”ì´ìŠ¤: 8ê°œ
ğŸ“¤ ì „ì†¡ ë©”ì‹œì§€: 2ê°œ
ğŸš¨ ì•ŒëŒ ì‹œë‚˜ë¦¬ì˜¤: 1ê°œ
ğŸ“¥ íŒŒì´í”„ë¼ì¸ ì²˜ë¦¬: 4ê°œ
ğŸ” ì•ŒëŒ í‰ê°€: 8ê°œ
ğŸ”¥ ì•ŒëŒ ë°œìƒ: 2ê°œ
ğŸ“Š Redis ì €ì¥: 10ê°œ

ğŸ¯ ê²€ì¦ ê²°ê³¼:
âœ… ê¸°ë³¸ íŒŒì´í”„ë¼ì¸: ì„±ê³µ
ğŸš¨ ì•ŒëŒ ì‹œìŠ¤í…œ: ì‹¤íŒ¨
ğŸ§® ê°€ìƒí¬ì¸íŠ¸: ì‹¤íŒ¨

ğŸ‰ğŸ‰ğŸ‰ ì™„ì „ í†µí•© í…ŒìŠ¤íŠ¸ ëŒ€ì„±ê³µ! ğŸ‰ğŸ‰ğŸ‰
ğŸš€ DB â†’ Worker â†’ íŒŒì´í”„ë¼ì¸ â†’ ì•ŒëŒí‰ê°€ â†’ ê°€ìƒí¬ì¸íŠ¸ê³„ì‚° â†’ Redis ì™„ì „ ë™ì‘!
âœ… PulseOne ì•ŒëŒ + ê°€ìƒí¬ì¸íŠ¸ ì‹œìŠ¤í…œ ê²€ì¦ ì™„ë£Œ!

ğŸ¯ === ì™„ì „ í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ! ===
[2025-08-12T13:13:29.548Z][INFO][processing] ğŸ›‘ DataProcessingService ì¤‘ì§€ ì¤‘...
[2025-08-12T13:13:29.601Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 0 ì¢…ë£Œ
[2025-08-12T13:13:29.639Z][DEBUG][processing] ğŸ§µ ì²˜ë¦¬ ìŠ¤ë ˆë“œ 1 ì¢…ë£Œ
[2025-08-12T13:13:29.640Z][INFO][processing] âœ… DataProcessingService ì¤‘ì§€ ì™„ë£Œ
[2025-08-12T13:13:29.640Z][INFO][processing] âœ… DataProcessingService ì†Œë©¸ë¨
âœ… DataProcessingService ì •ë¦¬ë¨
[2025-08-12T13:13:29.640Z][INFO] ğŸ›‘ PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì‹œì‘...
[2025-08-12T13:13:29.641Z][INFO] âœ… PipelineManager í ì‹œìŠ¤í…œ ì¢…ë£Œ ì™„ë£Œ
âœ… PipelineManager ì •ë¦¬ë¨
[2025-08-12T13:13:29.642Z][INFO][redis] Redis ì—°ê²° í•´ì œ ì™„ë£Œ
âœ… í–¥ìƒëœ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ì •ë¦¬ ì™„ë£Œ
[2025-08-12T13:13:29.642Z][DEBUG][redis] RedisClientImpl ì†Œë©¸ë¨
[       OK ] EnhancedPipelineTest.Complete_Alarm_And_VirtualPoint_Integration (15175 ms)
[----------] 3 tests from EnhancedPipelineTest (33477 ms total)

[----------] Global test environment tear-down
[==========] 3 tests from 1 test suite ran. (33477 ms total)
[  PASSED  ] 3 tests.
[2025-08-12T13:13:29.643Z][INFO][alarm] Shutting down AlarmManager
[2025-08-12T13:13:29.643Z][INFO][alarm] AlarmManager shutdown completed
[2025-08-12T13:13:29.643Z][INFO] Shutting down AlarmEngine
[2025-08-12T13:13:29.644Z][INFO] AlarmEngine shutdown completed
[2025-08-12T13:13:29.644Z][INFO][VirtualPointEngine] VirtualPointEngine ì¢…ë£Œ ì¤‘...
[2025-08-12T13:13:29.645Z][INFO][VirtualPointEngine] JavaScript ì—”ì§„ ì •ë¦¬ ì™„ë£Œ
[2025-08-12T13:13:29.645Z][INFO][VirtualPointEngine] VirtualPointEngine ì¢…ë£Œ ì™„ë£Œ
[2025-08-12T13:13:29.645Z][INFO] ğŸ”§ RepositoryFactory shutting down...
